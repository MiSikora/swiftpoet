
apply plugin: 'org.jetbrains.dokka'


dokka {

  outputFormat 'html'
  outputDirectory "$buildDir/javadoc/${project.version}"

}


gitPublish {

  repoUri = 'https://github.com/${{ github.repository }}.git'
  
  branch = 'gh-pages'
  
  contents {
  
    from(dokka) {
      into "$project.version"
    }
  
  }
  
  preserve {
    include '**'
  }
  
  commitMessage = 'Publishing documentation [ci skip]'
}


gitPublishPush.dependsOn dokka
